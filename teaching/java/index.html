<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8">
<meta name="author" content="Boris Eng">
<meta name="description" content="Boris Eng's webpage.">
<title>Boris Eng</title>
<link rel="canonical" href="https://engboris.fr//teaching/java/">
<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,300italic,400italic" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<link href="/basic.css" rel="stylesheet">
<link href="/index.css" rel="stylesheet">
<script type="text/javascript" src="/carousel.js"></script>




<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">



<header>
  <h1>⊢ <a href="/">Boris Eng</a></h1>
  <span class="sub">R&D Engineer at OCamlPro</span>
  <span class="sub" style="float: right;">[first name][last name]@proton.me</span>
  <nav>
    <div id="menu">
        <a  href="/">Home</a>
        <a  href="/research/">Research</a>
        <a  href="/teaching/">Teaching</a>
        <a  href="/library/">Library</a>
        <a  href="/trivia/">Trivia</a>
    </div>
    <div>
        
    </div>
  </nav>
</header>

<main>
  <article >
    <a href="/teaching">« Return to Teaching</a>
    
    <header>
      
      <time datetime=""></time>
      
    </header>
    <h1 id="programmation-orientée-objet">Programmation orientée objet</h1>

<p><strong>Responsable du cours</strong> : Marc Champesme</p>

<h2 id="révision--anatomie-commentée-dun-programme-java">Révision : anatomie commentée d’un programme Java</h2>

<details>
    <summary>Explications</summary>
<span>
* Fichier <code class="language-plaintext highlighter-rouge">Main.java</code>. C’est l’unique fichier qui contient la fonction principale (main). On peut l’appeler comme on veut mais c’est elle qu’on doit lancer avec la commande <code class="language-plaintext highlighter-rouge">java Main</code>.
</span>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="kn">import</span> <span class="nn">java.util.*</span> <span class="c1">// importe toutes les fonctionnalités de base de Java (dont ArrayList). On peut aussi importer un par un les modules, par exemple en faisant 'import java.util.ArrayList;'
</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
		<span class="c1">// on met ce que fait le programme quand on le lance
</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>


<span>
* Fichier <code class="language-plaintext highlighter-rouge">Blabla.java</code>
</span>


<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Blabla</span> <span class="o">{</span>
	<span class="cm">/* --------------------
		Attributs
	   -------------------- */</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">a</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">float</span> <span class="n">b</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">c</span><span class="o">;</span>
	
	<span class="cm">/* --------------------
		Constructeurs
	   -------------------- */</span>
	<span class="cm">/* Permet d'initialiser les objets avec des valeurs lorsqu'on
	   les créé avec 'Blabla b = new Blabla(...)'. On peut en avoir plusieurs. */</span>
	<span class="kd">public</span> <span class="nf">Blabla</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// 'this' se réfère à la classe actuelle, il est facultatif lorsqu'il n'y a pas d'ambiguïtés.
</span>
		<span class="k">this</span><span class="o">.</span><span class="na">a</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span> 
		<span class="k">this</span><span class="o">.</span><span class="na">b</span> <span class="o">=</span> <span class="mf">3.5</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">c</span> <span class="o">=</span> <span class="s">"salut"</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">// les constructeurs sont distingués par leurs paramètres
</span>
	<span class="kd">public</span> <span class="nf">Blabla</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">float</span> <span class="n">b</span><span class="o">,</span> <span class="nc">String</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// si on n'utilise pas 'this', alors il y a une confusion entre les attributs et les paramètres
</span>
		<span class="k">this</span><span class="o">.</span><span class="na">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/* --------------------
		Méthodes
	   -------------------- */</span>
	
	<span class="cm">/* cette fonction est appelée 'accesseur' ou 'getter'. Elle permet
	   de récupérer un attribut à partir d'un objet. On l'utilise en
	   faisant 'b.getA()' sur un objet 'b' de classe 'Blabla' */</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getA</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">a</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/* cette fonction est appelée 'mutateur' ou 'setter'. Elle permet
	   de modifier un attribut à partir d'un objet. On l'utilise en
	   faisant 'b.setA(valeur)' sur un objet 'b' de classe 'Blabla' */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setA</span><span class="o">(</span><span class="kt">int</span> <span class="n">newVal</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">a</span> <span class="o">=</span> <span class="n">newVal</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/* ----- Guide des annotations de contrat -----
	 *
	 * @invariant propriété qui ne change pas pendant l'exécution
	 * @requires  condition (sur les paramètres en général) que
	              l'on souhaite avoir avant l'exécution pour
	              assurer le bon fonctionnement de la fonction
	 * @ensures   propriété assurée par la fonction après exécution
	 * @param     nom_du_parametre	description_du_parametre
	 * @return    description du retour de la fonction
	              (quel est le résultat de la fonction)
	 */</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">f</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// ...
</span>
		<span class="k">return</span> <span class="mi">3</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>


<span>
* Fichier <code class="language-plaintext highlighter-rouge">BlablaNonMutable.java</code>
</span>


<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="code"><pre><span class="c1">// les instances de cette classe ne peuvent pas être modifiées après création (on doit donc les initialiser par leur constructeur).
</span>
<span class="kd">final</span> <span class="kd">class</span> <span class="nc">BlablaNonMutable</span> <span class="o">{</span>
	<span class="c1">// cet attribut ne peut pas être modifié
</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BLABLA</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
	
	<span class="cm">/* cet attribut ne peut pas être modifié mais est aussi partagé
	   entre toutes les instances (sinon chacun aurait sa propre variable) */</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BLOBLO</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span> 
	
	<span class="kd">public</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">blabla</span><span class="o">()</span> <span class="o">{</span>
		<span class="cm">/* Cette fonction ne peut pas être redéfinie dans
		   des sous-classes par héritage à cause du mot-clé 'final' */</span>
	<span class="o">}</span>
	
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

</details>

<h2 id="projet-zork">Projet Zork</h2>

<details>
    <summary>ObjetZork.java</summary>
<span>
Je rappelle que <code class="language-plaintext highlighter-rouge">this</code> se réfère à la classe elle-même. Si on écrit <code class="language-plaintext highlighter-rouge">this.poids</code>, il s’agit de l’attribut <code class="language-plaintext highlighter-rouge">poids</code> de la classe dans laquelle on est.

Vous pouvez mettre les méthodes que vous voulez selon ce que vous voulez faire ou ce dont vous avez besoin.
</span>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
</pre></td><td class="code"><pre><span class="cm">/**
 *	@invariant getNom() != null;
 *	@invariant getPoids() &gt;= 0;
 *	@invariant getDescription() != null;
 **/</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ObjetZork</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">nom</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">poids</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">description</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">boolean</span> <span class="n">transportable</span><span class="o">;</span>
	
	<span class="cm">/**
	 *  Initialise les objets avec un nom, une description et un poids. 
	 *  En particulier, on aimerait que le poids soit supérieur à 0.
	 * 
	 *  @param  nom           Nom de l'objet.
	 *  @param  description   Description de l'objet.
	 *  @param  poids         Poids de l'objet &gt;= 0.
	 *  @param  transportable Indique si l'objet est transportable.
	 *
	 *	@requires	nom != null;
	 *	@requires	description != null;
	 *	@requires	poids &gt;= 0;
	 *	@ensures	getNom() != null;
	 *	@ensures	getDescription() != null;
	 *	@ensures	getPoids() &gt;= 0; 
	 */</span>
	 <span class="kd">public</span> <span class="nf">ObjetZork</span><span class="o">(</span><span class="nc">String</span> <span class="n">nom</span><span class="o">,</span> <span class="nc">String</span> <span class="n">description</span><span class="o">,</span> <span class="kt">int</span> <span class="n">poids</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">transp</span><span class="o">)</span> <span class="o">{</span>
	 	<span class="k">this</span><span class="o">.</span><span class="na">nom</span> <span class="o">=</span> <span class="n">nom</span><span class="o">;</span>
	 	<span class="k">this</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="n">description</span><span class="o">;</span>
	 	<span class="k">this</span><span class="o">.</span><span class="na">poids</span> <span class="o">=</span> <span class="n">poids</span><span class="o">;</span>
	 	<span class="k">this</span><span class="o">.</span><span class="na">transportable</span> <span class="o">=</span> <span class="n">transp</span><span class="o">;</span>
	 <span class="o">}</span>
	 
	 <span class="cm">/**
	  *  Récupère le nom de l'objet.
	  *
	  *  @return  Nom de l'objet.
	  *	 @pure
	  */</span>
	 <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getNom</span><span class="o">()</span> <span class="o">{</span>
	 	<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">nom</span><span class="o">;</span>
	 <span class="o">}</span>
	 
	 <span class="cm">/**
	  *  Récupère la description de l'objet.
	  *
	  *  @return  Description de l'objet.
	  *	 @pure
	  */</span>
	 <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDescription</span><span class="o">()</span> <span class="o">{</span>
	 	<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">description</span><span class="o">;</span>
	 <span class="o">}</span>
	 
	 <span class="cm">/**
	  *  Récupère le poids de l'objet.
	  *
	  *  @return  Poids de l'objet.
	  *	 @pure
	  */</span>
	 <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getPoids</span><span class="o">()</span> <span class="o">{</span>
	 	<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">poids</span><span class="o">;</span>
	 <span class="o">}</span>
	 
	 <span class="cm">/**
	  *  Indique si l'objet est transportable.
	  *
	  *  @return  Renvoie vrai si l'objet est transportable et faux sinon.
	  *	 @pure
	  */</span>
	 <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">estTransportable</span><span class="o">()</span> <span class="o">{</span>
	 	<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">transportable</span><span class="o">;</span>
	 <span class="o">}</span>
	 
	 <span class="cm">/**
	  *  Affiche les détails d'un objet.
	  */</span>
	 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">affiche</span><span class="o">()</span> <span class="o">{</span>
	 	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Nom : "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">nom</span><span class="o">);</span>
	 	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Description : "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">description</span><span class="o">);</span>
	 	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Poids : "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">poids</span><span class="o">);</span>
	 	<span class="k">if</span> <span class="o">(</span><span class="n">estTransportable</span><span class="o">())</span>
	 		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Cet objet est transportable."</span><span class="o">);</span>
	 	<span class="k">else</span>
	 		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Cet objet n'est pas transportable."</span><span class="o">);</span>
	 <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

</details>

<details>
    <summary>Piece.java</summary>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
</pre></td><td class="code"><pre><span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.EnumMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="cm">/**
 *  Une piece dans un jeu d'aventure. &lt;p&gt;
 *
 *  Cette classe fait partie du logiciel Zork, un jeu d'aventure simple en mode
 *  texte.&lt;/p&gt; &lt;p&gt;
 *
 *  Une "Piece" represente un des lieux dans lesquels se déroule l'action du
 *  jeu. Elle est reliée a au plus quatre autres "Piece" par des sorties. Les
 *  sorties sont étiquettées "nord", "est", "sud", "ouest". Pour chaque
 *  direction, la "Piece" possède une référence sur la piece voisine ou null
 *  s'il n'y a pas de sortie dans cette direction.&lt;/p&gt;
 *
 * @author     Michael Kolling
 * @author     Marc Champesme (pour la traduction francaise)
 * @version    1.2
 * @since      August 2000
 *
 *	@invariant	getDescription() != null;
 *	@invariant	getSorties() != null;
 *	@invariant	getObjets() != null;
 */</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Piece</span> <span class="o">{</span>
 	<span class="kd">private</span> <span class="nc">String</span> <span class="n">description</span><span class="o">;</span>
	<span class="c1">// mémorise les sorties de cette piece.
</span>
	<span class="kd">private</span> <span class="nc">EnumMap</span><span class="o">&lt;</span><span class="nc">Direction</span><span class="o">,</span> <span class="nc">Piece</span><span class="o">&gt;</span> <span class="n">sorties</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">ObjetZork</span><span class="o">&gt;</span> <span class="n">objets</span><span class="o">;</span>

	<span class="cm">/**
	 *  Initialise une piece décrite par la chaine de caractères spécifiée.
	 *  Initialement, cette piece ne possède aucune sortie. La description fournie
	 *  est une courte phrase comme "la bibliothèque" ou "la salle de TP".
	 *
	 * @param  description  Description de la piece.
	 * @requires description != null;
	 * @ensures	 getDescription() != null;
	 * @ensures	 getSorties() != null;
	 * @ensures	 getObjets() != null;
	 */</span>
	<span class="kd">public</span> <span class="nf">Piece</span><span class="o">(</span><span class="nc">String</span> <span class="n">description</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="n">description</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sorties</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EnumMap</span><span class="o">&lt;</span><span class="nc">Direction</span><span class="o">,</span> <span class="nc">Piece</span><span class="o">&gt;(</span><span class="nc">Direction</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">objets</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">ObjetZork</span><span class="o">&gt;();</span>
	<span class="o">}</span>

	<span class="cm">/**
	 *  Constructeur alternatif qui permet de choisir une liste d'objets
	 *  de départ.
	 *
	 * @param  description  Description de la piece.
	 * @param  objets       Liste d'objets dans la pièce.
	 *
	 * @requires	description != null;
	 * @requires 	objets != null;
	 * @ensures	getDescription() != null;
	 * @ensures getObjets() != null;
	 * @ensures getSorties() != null;	
	 */</span>
	<span class="kd">public</span> <span class="nf">Piece</span><span class="o">(</span><span class="nc">String</span> <span class="n">description</span><span class="o">,</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">ObjetZork</span><span class="o">&gt;</span> <span class="n">objets</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="n">description</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sorties</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EnumMap</span><span class="o">&lt;</span><span class="nc">Direction</span><span class="o">,</span> <span class="nc">Piece</span><span class="o">&gt;(</span><span class="nc">Direction</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">objets</span> <span class="o">=</span> <span class="n">objets</span><span class="o">;</span>
	<span class="o">}</span>


	<span class="cm">/**
	 *  Définie les sorties de cette piece. A chaque direction correspond ou bien
	 *  une piece ou bien la valeur null signifiant qu'il n'y a pas de sortie dans
	 *  cette direction.
	 *
	 * @param  nord   La sortie nord
	 * @param  est    La sortie est
	 * @param  sud    La sortie sud
	 * @param  ouest  La sortie ouest
	 *
	 * @ensures getSorties() != null;
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSorties</span><span class="o">(</span><span class="nc">Piece</span> <span class="n">nord</span><span class="o">,</span> <span class="nc">Piece</span> <span class="n">est</span><span class="o">,</span> <span class="nc">Piece</span> <span class="n">sud</span><span class="o">,</span> <span class="nc">Piece</span> <span class="n">ouest</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">nord</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">sorties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">Direction</span><span class="o">.</span><span class="na">NORD</span><span class="o">,</span> <span class="n">nord</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">est</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">sorties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">Direction</span><span class="o">.</span><span class="na">EST</span><span class="o">,</span> <span class="n">est</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">sud</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">sorties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">Direction</span><span class="o">.</span><span class="na">SUD</span><span class="o">,</span> <span class="n">sud</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">ouest</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">sorties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">Direction</span><span class="o">.</span><span class="na">OUEST</span><span class="o">,</span> <span class="n">ouest</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>


	<span class="cm">/**
	 *  Renvoie la description de cette piece (i.e. la description spécifiée lors
	 *  de la création de cette instance).
	 *
	 * @return    Description de cette piece
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">descriptionCourte</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">description</span><span class="o">;</span>
	<span class="o">}</span>


	<span class="cm">/**
	 *  Renvoie une description de cette piece mentionant ses sorties et
	 *  directement formatée pour affichage, de la forme: &lt;pre&gt;
	 *  Vous etes dans la bibliothèque.
	 *  Sorties: nord ouest&lt;/pre&gt; Cette description utilise la chaine de caractères
	 *  renvoyée par la méthode descriptionSorties pour décrire les sorties de
	 *  cette piece.
	 *
	 * @return    Description affichable de cette piece
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">descriptionLongue</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"Vous etes dans "</span> <span class="o">+</span> <span class="n">description</span> <span class="o">+</span> <span class="s">".\n"</span> <span class="o">+</span> <span class="n">descriptionSorties</span><span class="o">();</span>
	<span class="o">}</span>


	<span class="cm">/**
	 *  Renvoie une description des sorties de cette piece, de la forme: &lt;pre&gt;
	 *  Sorties: nord ouest&lt;/pre&gt; Cette description est utilisée dans la
	 *  description longue d'une piece.
	 *
	 * @return    Une description des sorties de cette pièce.
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">descriptionSorties</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">resulString</span> <span class="o">=</span> <span class="s">"Sorties:"</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">Direction</span> <span class="n">sortie</span> <span class="o">:</span>  <span class="n">sorties</span><span class="o">.</span><span class="na">keySet</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">resulString</span> <span class="o">+=</span> <span class="s">" "</span> <span class="o">+</span> <span class="n">sortie</span><span class="o">;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">resulString</span><span class="o">;</span>
	<span class="o">}</span>


	<span class="cm">/**
	 *  Renvoie la piece atteinte lorsque l'on se déplace a partir de cette piece
	 *  dans la direction spécifiée. Si cette piece ne possède aucune sortie dans cette direction,
	 *  renvoie null.
	 *
	 * @param  direction  La direction dans laquelle on souhaite se déplacer
	 * @return            Piece atteinte lorsque l'on se déplace dans la direction spécifiée ou null.
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="nc">Piece</span> <span class="nf">pieceSuivante</span><span class="o">(</span><span class="nc">Direction</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">sorties</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">d</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Ajoute des objets dans la salle.
	 *
	 * @param o L'objet que l'on souhaite ajouter.
	 * @requires o != null;
	 * @ensures this.objets.size() != 0;
	 * @ensures \exists int i; i&gt;=0 &amp;&amp; i&lt;this.objets.size(); this.objets.get(i).equals(o);
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">ajouterObjet</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">objets</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Supprime un objet spécifique dans la salle.
	 *
	 * @param o L'objet que l'on souhaite supprimer.
	 * @requires o != null;
	 * @requires this.objets.size() = \old(this.objets.size() - 1)
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">retirerObjet</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">objets</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Vérifie si un objet est dans la pièce.
	 *
	 * @return Vrai si la pièce contient o et sinon faux
	 * @requires o != null;
	 * @ensures \result &lt;==&gt; \exists int i; i&gt;=0 &amp;&amp; i&lt;this.objets.size(); this.objets.get(i).equals(o);
	 */</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contient</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">objets</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Vérifie combien de fois un objet est dans une pièce.
	 *
	 * @return Le nombre de fois que l'objet 'o' est dans la pièce
	 * @requires o != null;
	 * @ensures \result &gt; 0 &lt;==&gt; \exists int i; i&gt;=0 &amp;&amp; i&lt;this.objets.size(); this.objets.get(i).equals(o);
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">contientCombienDe</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">nb</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">obj</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">objets</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">o</span><span class="o">))</span>
				<span class="n">nb</span><span class="o">++;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">nb</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Affiche la liste des objets dans la salle.
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">afficheObjets</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Voici la liste des objets dans la salle :"</span><span class="o">);</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">objets</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
				<span class="n">o</span><span class="o">.</span><span class="na">affiche</span><span class="o">();</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-------------------------------------"</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

</details>

<details>
    <summary>Equals &amp; Hashcode pour ObjetZork.java</summary>
    <span>
    Il est parfois utile de redéfinir la méthode <code class="language-plaintext highlighter-rouge">equals</code> qui permet de dire si deux objets sont égaux pour la personnaliser et choisir nous-même ce que signifie être égal pour deux objets. Par exemple : 
	</span>
	
<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="code"><pre>	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">poids</span> <span class="o">==</span> <span class="n">obj</span><span class="o">.</span><span class="na">poids</span> <span class="o">&amp;&amp;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">description</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">description</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">nom</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">nom</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">transportable</span> <span class="o">==</span> <span class="n">obj</span><span class="o">.</span><span class="na">transportable</span><span class="o">;</span>
	<span class="o">}</span>
	
</pre></td></tr></tbody></table></code></pre></figure>

	<span>
    Tester l’égalité peut être coûteux et inefficace dans certains cas où on doit faire énormément de comparaisons. Pour cette raison, Java stocke un code dans les objets qui s’appelle <em>hashcode</em>. Le principe est que si deux objets sont censés être égaux alors ils doivent avoir le même hashcode (mais la réciproque n’est pas forcément vraie, on a pas besoin d’unicité). Pour redéfinir le hashcode, doit respecter le “contrat” qui donne des indications sur ce qu’on doit respecter pour la définition. Pour des raisons techniques, dans la documentation Java, il est souvent choisi de multiplier le hashcode des chaînes de caractère par 31 (je rappelle que les chaînes de caractère sont des objets). Similairement, pour les booléens <code class="language-plaintext highlighter-rouge">true</code> et <code class="language-plaintext highlighter-rouge">false</code>, on choisit habituellement 1231 et 1237. On pourrait donc avoir le code suivant :
	</span>
	
<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="code"><pre>	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">poids</span> <span class="o">+</span> <span class="mi">31</span><span class="o">*</span><span class="k">this</span><span class="o">.</span><span class="na">description</span><span class="o">.</span><span class="na">hashCode</span><span class="o">()</span> <span class="o">+</span> <span class="mi">31</span><span class="o">*</span><span class="k">this</span><span class="o">.</span><span class="na">nom</span><span class="o">.</span><span class="na">hashCode</span><span class="o">()</span> <span class="o">+</span>
		<span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">transportable</span> <span class="o">?</span> <span class="mi">1231</span> <span class="o">:</span> <span class="mi">1237</span><span class="o">);</span>
	<span class="o">}</span>
	
</pre></td></tr></tbody></table></code></pre></figure>

</details>

<details>
    <summary>Joueur.java</summary>
    
<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
</pre></td><td class="code"><pre><span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.EnumMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="cm">/**
 *	@invariant this.poids_sac &lt; this.POIDS_MAX;
 **/</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Joueur</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">ObjetZork</span><span class="o">&gt;</span> <span class="n">sac</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">poids_sac</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">POIDS_MAX</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>

	<span class="cm">/**
	 *  Initialise un joueur avec un sac vide par défaut.
	 *  @ensures this.poids_sac = 0;
	 *  @ensures this.sac != null;
	 */</span>
	<span class="kd">public</span> <span class="nf">Joueur</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">poids_sac</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sac</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">ObjetZork</span><span class="o">&gt;();</span>
	<span class="o">}</span>

	<span class="cm">/**
	 *  Constructeur alternatif qui permet de choisir une liste d'objets
	 *  de départ dans le sac du joueur.
	 *
	 * @param  objets       Liste d'objets dans la pièce.
	 * 
	 * @requires this.objets != null;
	 * @ensures  this.poids_sac &gt;= 0;
	 */</span>
	<span class="kd">public</span> <span class="nf">Joueur</span><span class="o">(</span><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">ObjetZork</span><span class="o">&gt;</span> <span class="n">objets</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sac</span> <span class="o">=</span> <span class="n">objets</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span> <span class="o">:</span> <span class="n">objets</span><span class="o">)</span>
			<span class="k">this</span><span class="o">.</span><span class="na">poids_sac</span> <span class="o">+=</span> <span class="n">o</span><span class="o">.</span><span class="na">getPoids</span><span class="o">();</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Ajoute des objets dans le sac du joueur.
	 *
	 * @param o L'objet que l'on souhaite ajouter.
	 * @requires o != null;
	 * @ensures this.possede(o);
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">ajouterObjet</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sac</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Supprime un objet spécifique dans le sac du joueur.
	 *
	 * @param o L'objet que l'on souhaite supprimer.
	 * @requires o != null;
	 * @ensures !this.possede(o);
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">retirerObjet</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sac</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Vérifie si un objet est possédé par le joueur.
	 *
	 * @return Vrai si le sac contient o et sinon faux
	 * @requires o != null;
	 * @ensures \result &lt;==&gt; \exists int i; i&gt;=0 &amp;&amp; i&lt;this.objets.size(); this.objets.get(i).equals(o);
	 */</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">possede</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">sac</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Vérifie combien de fois un objet est dans le sac du joueur.
	 *
	 * @return Le nombre de fois que l'objet 'o' est dans le sac
	 * @requires o != null;
	 * @ensures \result&gt;=0 &lt;==&gt; \exists int i; i&gt;=0 &amp;&amp; i&lt;this.objets.size(); this.objets.get(i).equals(o);
	 */</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">contientCombienDe</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">nb</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">obj</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">sac</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">o</span><span class="o">))</span>
				<span class="n">nb</span><span class="o">++;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">nb</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Affiche la liste des objets dans le sac.
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">afficheObjets</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Voici la liste des objets dans votre sac :"</span><span class="o">);</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">sac</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
				<span class="n">o</span><span class="o">.</span><span class="na">affiche</span><span class="o">();</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-------------------------------------"</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *  Permet de porter un objet et le mettre dans son sac.
	 * 
	 *  @param o L'objet que l'on souhaite porter
	 *  @requires o != null;
	 *  @ensures this.possede(o);
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">porter</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">estTransportable</span><span class="o">())</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">getPoids</span><span class="o">()+</span><span class="k">this</span><span class="o">.</span><span class="na">poids_sac</span> <span class="o">&lt;=</span> <span class="k">this</span><span class="o">.</span><span class="na">POIDS_MAX</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">this</span><span class="o">.</span><span class="na">poids_sac</span> <span class="o">+=</span> <span class="n">o</span><span class="o">.</span><span class="na">getPoids</span><span class="o">();</span>
				<span class="k">this</span><span class="o">.</span><span class="na">ajouterObjet</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>	
			<span class="o">}</span>
		<span class="o">}</span>		
		<span class="k">else</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Cet objet ne peut pas être transporté. "</span><span class="o">);</span>					
	<span class="o">}</span>
<span class="o">}</span>
    
</pre></td></tr></tbody></table></code></pre></figure>

</details>

<h2 id="tp-formes-géométriques-polygone">TP formes géométriques (Polygone)</h2>

<details>
    <summary>Détails</summary>
On veut créer des classes pour plusieurs formes géométriques en utilisant l'héritage :


<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Polygone</span> <span class="o">{...}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quadrilatere</span> <span class="kd">extends</span> <span class="nc">Polygone</span> <span class="o">{...}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Rectangle</span> <span class="kd">extends</span> <span class="nc">Quadrilatere</span> <span class="o">{...}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Carre</span> <span class="kd">extends</span> <span class="nc">Rectangle</span> <span class="o">{...}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Triangle</span> <span class="kd">extends</span> <span class="nc">Polygone</span> <span class="o">{...}</span>
</pre></td></tr></tbody></table></code></pre></figure>


Voici pour chaque classes les attributs et méthodes que vous devez avoir (n'oubliez pas d'ajouter les invariants et contrats en commentaires) :


<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Polygone</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">Point2D</span><span class="o">[]</span> <span class="n">mesSommets</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nf">Polygone</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Point2D</span><span class="o">&gt;</span> <span class="n">lp</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// constructeur
</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getNbSommets</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// récupère le nombre de sommets
</span>
	<span class="kd">public</span> <span class="nc">Point2D</span> <span class="nf">getSommet</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// récupère le sommmet d'indice i
</span>
	<span class="kd">public</span> <span class="nc">Line2D</span> <span class="nf">getCote</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// récupère le côté d'indice i
</span>
	<span class="kd">public</span> <span class="kt">double</span> <span class="nf">lgCote</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// récupère la longueur du côté d'indice i
</span>
	<span class="kd">public</span> <span class="kt">double</span> <span class="nf">perimetre</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// renvoie le perimètre du polygone
</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">translate</span><span class="o">(</span><span class="kt">double</span> <span class="n">dx</span><span class="o">,</span> <span class="kt">double</span> <span class="n">dy</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// déplace la forme
</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">symetrieOx</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// renverse la forme sur l'axe x
</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">symetrieOy</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// renverse la forme sur l'axe y
</span>
	<span class="kd">public</span> <span class="nc">Polygone</span> <span class="nf">addSommet</span><span class="o">(</span><span class="nc">Point2D</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// ajoute un sommet
</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="nc">Polygone</span> <span class="nf">clone</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// affiche les informations du polygone
</span>
 
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quadrilatere</span> <span class="kd">extends</span> <span class="nc">Polygone</span> <span class="o">{</span>
	<span class="c1">// constructeur
</span>
	<span class="kd">public</span> <span class="nf">Quadrilatere</span><span class="o">(</span><span class="nc">Point2D</span> <span class="n">p1</span><span class="o">,</span> <span class="nc">Point2D</span> <span class="n">p2</span><span class="o">,</span> <span class="nc">Point2D</span> <span class="n">p3</span><span class="o">,</span> <span class="nc">Point2D</span> <span class="n">p4</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Rectangle</span> <span class="kd">extends</span> <span class="nc">Quadrilatere</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">lgH</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">lgV</span><span class="o">;</span>

	<span class="c1">// constructeurs
</span>
    <span class="kd">public</span> <span class="nf">Rectangle</span><span class="o">(</span><span class="nc">Point2D</span> <span class="n">p0</span><span class="o">,</span> <span class="nc">Point2D</span> <span class="n">p2</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="nf">Rectangle</span><span class="o">(</span><span class="nc">Point2D</span> <span class="n">p0</span><span class="o">,</span> <span class="kt">double</span> <span class="n">lgH</span><span class="o">,</span> <span class="kt">double</span> <span class="n">lgV</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">lgCoteH</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// récupère le côté horizontal
</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">lgCoteV</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// récupère le côté vertical
</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">double</span> <span class="nf">perimetre</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">surface</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// calcul l'aire du rectangle
</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Carre</span> <span class="kd">extends</span> <span class="nc">Rectangle</span> <span class="o">{</span>
	<span class="c1">// constructeur
</span>
    <span class="kd">public</span> <span class="nf">Carre</span><span class="o">(</span><span class="nc">Point2D</span> <span class="n">p0</span><span class="o">,</span> <span class="kt">double</span> <span class="n">cote</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">lgCote</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span> <span class="c1">// récupère la longueur des côtés
</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">double</span> <span class="nf">perimetre</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>



<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Triangle</span> <span class="kd">extends</span> <span class="nc">Polygone</span> <span class="o">{</span>
	<span class="c1">// constructeur
</span>
    <span class="kd">public</span> <span class="nf">Triangle</span><span class="o">(</span><span class="nc">Point2D</span> <span class="n">p0</span><span class="o">,</span> <span class="nc">Point2D</span> <span class="n">p1</span><span class="o">,</span> <span class="nc">Point2D</span> <span class="n">p2</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

</details>

<h2 id="tp-zork-et-héritage-avec-exceptions">TP Zork et héritage avec exceptions</h2>

<h3 id="héritage">Héritage</h3>

<p>Il faut d’abord prendre le fichier suivant qui définit ce qu’est un conteneur et l’ajouter au projet Java :</p>

<details>
    <summary>Conteneur.java</summary>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
</pre></td><td class="code"><pre><span class="cm">/**
 * Conteneur d'ObjetZork. Les éléments contenus ne sont pas ordonnés et un
 * conteneur peut contenir plusieurs exemplaires d'un même ObjetZork (au sens de
 * equals).
 *
 * @author Sujeevan ASEERVATHAM
 * @author Marc Champesme
 * @version 3 janvier 2021
 * @since 29 mars 2007
 * 
 * @invariant !contient(null);
 */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Conteneur</span> <span class="o">{</span>

	<span class="cm">/**
	 * Renvoie le nombre d'exemplaires de l'objet specifié presents dans ce
	 * conteneur. La presence d'un objet est testée en utilisant la méthode equals
	 * de la classe ObjetZork.
	 *
	 * @param oz Objet dont on cherche à connaitre le npmbre d'exemplaires.
	 * @return le nombre d'exemplaires de l'objet specifié.
	 * 
	 * @ensures \result &gt;= 0;
	 * @ensures contient(oz) &lt;==&gt; \result &gt; 0;
	 * @ensures !contient(oz) &lt;==&gt; \result == 0;
	 * @ensures \result &lt;= getNbObjets();
	 * 
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">contientCombienDe</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">);</span>

	<span class="cm">/**
	 * Renvoie true si le conteneur contient au moins un exemplaire de l'objet
	 * specifié. La présence d'un objet est testée en utilisant la méthode equals de
	 * la classe ObjetZork. L'argument doit être non &lt;code&gt;null&lt;/code&gt;.
	 *
	 * @param oz Objet dont on cherche à savoir s'il est present.
	 * @return true si ce conteneur possede au moins un exemplaire de l'objet
	 *         specifié ; false sinon.
	 * 
	 * @ensures (getNbObjets() == 0) ==&gt; !\result;
	 * @ensures (contientCombienDe(oz) &gt; 0) ==&gt; \result;
	 * 
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contient</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">);</span>

	<span class="cm">/**
	 * Renvoie le nombre d'ObjetZork dans ce conteneur. Chaque occurence de chaque
	 * objet est comptée.
	 *
	 * @return Le nombre d'ObjetZork dans ce conteneur.
	 * 
	 * @ensures \result &gt;= 0;
	 * 
	 * @pure
	 * 
	 */</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getNbObjets</span><span class="o">();</span>

	<span class="cm">/**
	 * Retourne une nouvelle instance de tableau d'ObjetZork, dont la taille est le
	 * nombre d'éléments de ce conteneur. Le tableau renvoyé contient tous les
	 * ObjetZork contenus dans ce conteneur.
	 *
	 * @return Un tableau d'ObjetZork contenant tous les éléments de ce conteneur..
	 * 
	 * @ensures \result != null;
	 * @ensures \result.length == getNbObjets();
	 * @ensures (\forall int i; i &gt;= 0 &amp;&amp; i &lt; \result.length; contient(\result[i]));
	 * 
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="nc">ObjetZork</span><span class="o">[]</span> <span class="nf">getTabObjets</span><span class="o">();</span>

	<span class="cm">/**
	 * Indique si l'ObjetZork peut être ajouté dans ce conteneur
	 *
	 * @param oz L'objet à ajouter.
	 * @return true si l'objet peut être ajouté ; false sinon.
	 * 
	 * @ensures (oz == null) ==&gt; !\result;
	 * 
	 * @pure
	 */</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">ajoutPossible</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">oz</span><span class="o">);</span>

	<span class="cm">/**
	 * Ajoute l'objet specifié au conteneur. Si l'objet est déjà présent, un
	 * exemplaire supplémentaire de cet objet y est ajouté. La presence d'un objet
	 * est testée en utilisant la methode equals de la classe ObjetZork.
	 *
	 * @param oz L'objet à ajouter dans ce conteneur
	 * 
	 * @throws NullPointerException     si l'élément spécifié est null
	 * @throws IllegalArgumentException si certaines propriétés de l'objet spécifié
	 *                                  empèchent son ajout
	 * 
	 * @requires ajoutPossible(oz);
	 * @ensures contient(oz);
	 * @ensures contientCombienDe(oz) == \old(contientCombienDe(oz)) + 1;
	 * 
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">ajouter</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">oz</span><span class="o">);</span>

	<span class="cm">/**
	 * Retire un exemplaire de l'objet specifié du conteneur si cet objet y est
	 * present. Renvoie true si cet objet était effectivement présent dans ce
	 * conteneur et que l'objet a pu être effectivement retiré ; renvoie false
	 * sinon. La présence d'un objet est testée en utilisant la méthode equals de la
	 * classe ObjetZork. 
	 *
	 * @param oz Objet dont un exemplaire doit être retirer de ce conteneur
	 * @return true si cet objet etait effectivement present ; false sinon.
	 * 
	 * 
	 * @ensures \old(contient(oz)) &lt;==&gt; \result;
	 * 
	 * @ensures \old(contient(oz)) 
	 * 			&lt;==&gt; (contientCombienDe(oz)  == \old(contientCombienDe(oz)) - 1);
	 * @ensures \old(contientCombienDe(oz) &lt;= 1) ==&gt; !contient(oz);
	 * @ensures \old(contientCombienDe(oz) &gt; 1) &lt;==&gt; contient(oz);
	 * 
	 */</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">retirer</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">);</span>

	<span class="cm">/**
	 * Renvoie true si le Conteneur spécifié est non &lt;code&gt;null&lt;/code&gt; et contient
	 * les mêmes ObjetZork (au sens de equals) en autant d'exemplaires.
	 *
	 * @param c Le Conteneur à comparer avec ce conteneur.
	 * @return true si le Conteneur spécifié contient les mêmes ObjetZork en autant
	 *         d'exemplaires
	 * 
	 * @old ObjetZork[] thisTab = this.getTabObjets();
	 * @ensures (c == null) ==&gt; !\result;
	 * @ensures (getNbObjets() != c.getNbObjets()) ==&gt; !\result;
	 * @ensures \result &lt;==&gt; (c != null)
	 * 		&amp;&amp; (getNbObjets() == c.getNbObjets())
	 * 		&amp;&amp; (\forall int i; i &gt;= 0 &amp;&amp; i &lt; getNbObjets(); 
	 * 				this.contientCombienDe(thisTab[i]) == c.contientCombienDe(thisTab[i]));
	 * 
	 * @pure
	 * 
	 */</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">memeContenu</span><span class="o">(</span><span class="nc">Conteneur</span> <span class="n">c</span><span class="o">);</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

</details>

<p>Il faut ensuite développer les classes suivantes :</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">ArrayConteneur</span> <span class="kd">implements</span> <span class="nc">Conteneur</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">ObjetZork</span><span class="o">[]</span> <span class="n">lesObjets</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">nbObjets</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nf">ArrayConteneur</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
	<span class="kd">public</span> <span class="nf">ArrayConteneur</span><span class="o">(</span><span class="nc">ObjetZork</span><span class="o">[]</span> <span class="n">objets</span><span class="o">,</span> <span class="kt">int</span> <span class="n">nbObjets</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">int</span> <span class="nf">contientCombienDe</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contient</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getNbObjets</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="nc">ObjetZork</span><span class="o">[]</span> <span class="nf">getTabObjets</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ajouter</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">oz</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">retirer</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">memeContenu</span><span class="o">(</span><span class="nc">Conteneur</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">boolean</span> <span class="nf">ajoutPossible</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">oz</span><span class="o">);</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="code"><pre><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">ArrayListConteneur</span> <span class="kd">implements</span> <span class="nc">Conteneur</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">ObjetZork</span><span class="o">&gt;</span> <span class="n">lesObjets</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nf">ArrayListConteneur</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
	<span class="kd">public</span> <span class="nf">ArrayListConteneur</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">ObjetZork</span><span class="o">&gt;</span> <span class="n">objets</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">int</span> <span class="nf">contientCombienDe</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contient</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getNbObjets</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="nc">ObjetZork</span><span class="o">[]</span> <span class="nf">getTabObjets</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ajouter</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">oz</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">retirer</span><span class="o">(</span><span class="nc">Object</span> <span class="n">oz</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">memeContenu</span><span class="o">(</span><span class="nc">Conteneur</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
	<span class="nd">@Override</span> <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">boolean</span> <span class="nf">ajoutPossible</span><span class="o">(</span><span class="nc">ObjetZork</span> <span class="n">oz</span><span class="o">);</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>On termine en modifiant Joueur.java et Piece.java de sorte à ce qu’ils héritent de ArrayListConteneur pour pouvoir contenir des ObjetZork de façon uniforme.</p>

<h3 id="exceptions">Exceptions</h3>

<p>On ajoute des activations d’erreurs avec <code class="language-plaintext highlighter-rouge">throw</code>. Typiquement, on les utilise dans les cas où les conditions de @requires sont invalides. Par exemple :</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="code"><pre>	<span class="cm">/**
	 * Initalise un joueur ne transportant aucun objet et dont le nom est la
	 * chaîne de caractères spécifiée. Le poids maximal est initialisé à 10.
	 *
	 * @requires nom != null;
	 * @ensures getNom().equals(nom);
	 * @ensures getPoidsMax() == 10;
	 * @ensures getPoids() == 0;
	 * @ensures getNbObjets() == 0;
	 *
	 * @param nom	Le nom du joueur
	 *
	 * @throws NullPointerException	si le nom spécifié est null
	 */</span>
	<span class="kd">public</span> <span class="nf">Joueur</span><span class="o">(</span><span class="nc">String</span> <span class="n">nom</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">nom</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">NullPointerException</span><span class="o">(</span><span class="s">"Le nom du Joueur doit être non null"</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">this</span><span class="o">.</span><span class="na">nom</span> <span class="o">=</span> <span class="n">nom</span><span class="o">;</span>
		<span class="n">poidsMax</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
	<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>Regarder le cours pour plus d’informations sur les types d’erreurs : <a href="https://moodlelms.univ-paris13.fr/mod/resource/view.php?id=97740">https://moodlelms.univ-paris13.fr/mod/resource/view.php?id=97740</a></p>

<h3 id="généricité">Généricité</h3>

<p>Les conteneurs ne peuvent manipuler que des ObjetZork. Cependant, ils pourraient très bien traiter n’importe quels types d’objets de façon générique.</p>

<p>Modifier <code class="language-plaintext highlighter-rouge">ArrayListConteneur</code> (et pourquoi pas <code class="language-plaintext highlighter-rouge">ArrayConteneur</code> si vous voulez) pour traiter n’importe quel type d’objet et utiliser cette classe pour gérer des <code class="language-plaintext highlighter-rouge">ObjetZork</code> dans <code class="language-plaintext highlighter-rouge">Joueur</code> et <code class="language-plaintext highlighter-rouge">Piece</code>.</p>

<p>Tester avec une fonction <code class="language-plaintext highlighter-rouge">main</code>.</p>

<p>PS : je viens d’inventer le sujet un peu avant le TP car je savais pas trop quoi donner donc peut-être que ça va changer.</p>


  </article>
</main>


